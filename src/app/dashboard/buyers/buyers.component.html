<div class="mx-4">
    <h2 class="text-3xl my-5 ml-20 md:ml-[26rem]">
      Numbers of Buyers: {{ total }}
    </h2>
    <div class="overflow-x-auto shadow-green-100 h-auto md:h-[300px]">
      <table class="table w-2/3 ml-8 mr-12">
        <thead class="bg-slate-100">
          <tr>
            <th
              (click)="handleSort('name')"
              class="w-1/3 cursor-pointer"
            >
              Name
              <ng-container *ngIf="sortColumn === 'name'">
                <fa-icon
                  [icon]="sortDirection === 'asc' ? faArrowUp : faArrowDown"
                  class="ml-3 bg-transparent border-none cursor-pointer p-0 text-base text-black-600 hover:text-gray-600 transition-colors duration-300"
                ></fa-icon>
              </ng-container>
            </th>
            <th
              (click)="handleSort('email')"
              class="w-1/3 cursor-pointer"
            >
              Email
              <ng-container *ngIf="sortColumn === 'email'">
                <fa-icon
                  [icon]="sortDirection === 'asc' ? faArrowUp : faArrowDown"
                  class="ml-3 bg-transparent border-none cursor-pointer p-0 text-base text-black-600 hover:text-gray-600 transition-colors duration-300"
                ></fa-icon>
              </ng-container>
            </th>
            <th class="w-[20%]">Delete</th>
          </tr>
        </thead>
        <tbody>
           <!-- <ng-container *ngIf="loading">
            <tr>
              <td colspan="4" class="text-center py-5">
                <div class="spinner"></div>
              </td>
            </tr>
          </ng-container>   -->
          <tr class="hover" *ngFor="let buyer of buyers  | paginate: { id: 'server', itemsPerPage: 5, currentPage: p, totalItems: total }">
            <td>{{ buyer.name }}</td>
            <td>{{ buyer.email }}</td>
            <td>
              <button (click)="handleDelete(buyer._id)" class="btn btn-xs btn-error">
                Delete
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="w-[32rem] md:w-[46rem] mx-auto mt-10">
      <pagination-controls 
      [previousLabel]="labels.previousLabel"
                         [nextLabel]="labels.nextLabel"
                         [screenReaderPaginationLabel]="labels.screenReaderPaginationLabel"
                         [screenReaderPageLabel]="labels.screenReaderPageLabel"
                         [screenReaderCurrentLabel]="labels.screenReaderCurrentLabel"
      id="server"  (pageChange)="getPage($event)"></pagination-controls>
    </div>
</div>
  